<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>I-Ching Yarrow Cast Demo</title>
	<meta name="generator" content="BBEdit 11.0" />
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="yarrow-sort.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
</head>
<body>
<div class="container">
  <div class="row">
    <div class="col-md-6 col-md-offset-3" style="background-color:#F8F8F8;" class="text-center">
<h1>Demo of Yarrow Stalk Cast</h1>
<p>If you ever cast the I-Ching, chances are you did it using the three-coin method. Alas, that method is not statistically equivalent in probable results to the original bronze-age method of sorting yarrow stalks. Of course, the original yarrow stalk method is a pain in the patootie and difficult to wrap your head around. But I wrote it up as human-readable, extensively commented javascript as part of my development of I-Ching: App of Changes. I'm releasing this bit of script under the MIT license. Use it as you wish. It furthers one to cross the great water.  </p>
<div id="Results" class="text-center"></div>
<div id="Hexagram" class="text-center"></div>
<button type="button" class="cast">Click Me!</button>
</div> <!-- Content -->
</div> <!-- Row -->
</div> <!-- Container -->
<script>
	$('body').on('click', '.cast', function(e)
		{
			$('#Hexagram').empty();
			var count = 1000;
			var yin = 0;
			var yang = 0;
			var yinChange = 0;
			var yangChange = 0;
			var i;
			for (i = 0; i<count; i++)
			{
				for (j = 1; j<7; j++){
					LineCast();
					//$('<code>West Pile:'+WestPile+', East Pile:'+EastPile+' and Hand Pile:'+HandPile+' - Total:'+(HandPile+WestPile+EastPile)+'</code><br />').appendTo('#Hexagram');
					//$('<code>'+asciipic+'</code><br />').prependTo('#Hexagram');
					switch (asciipic) {
						case '===&nbsp;o&nbsp;===':
						yinChange++
						break;
						case '====x====':
						yangChange++;
						break;
						case '=========':
						yang++;
						break;
						case '===&nbsp;&nbsp;&nbsp;===':
						yin++;
						break;
					}
				}

			}
			$('#Results').empty();
			$('<p>yin count: '+yin+' - probability: '+(yin/(count*6)*100).toFixed(2)+'%</p><br />').appendTo('#Results');
			$('<p>yin-change count: '+yinChange+' - probability: '+(yinChange/(count*6)*100).toFixed(2)+'%</p><br />').appendTo('#Results');
			$('<p>yang count: '+yang+' - probability: '+(yang/(count*6)*100).toFixed(2)+'%</p><br />').appendTo('#Results');
			$('<p>yang-change count: '+yangChange+' - probability: '+(yangChange/(count*6)*100).toFixed(2)+'%</p><br />').appendTo('#Results');
		});
</script>
</body>
</html>
